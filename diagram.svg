// src/components/ArchitectureDiagram.tsx
export const ArchitectureDiagram = () => (
  <svg viewBox="0 0 800 400" className="w-full h-auto max-w-4xl mx-auto p-4" xmlns="http://www.w3.org/2000/svg">
    {/* Definitions for arrowheads */}
    <defs>
      <marker id="arrow" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
        <polygon points="0 0, 10 3.5, 0 7" fill="#475569" />
      </marker>
    </defs>

    {/* Project 1: Frontend */}
    <rect x="50" y="150" width="180" height="100" rx="10" fill="#eff6ff" stroke="#3b82f6" strokeWidth="2" />
    <text x="140" y="195" textAnchor="middle" className="font-bold text-sm fill-blue-700">Project 1: Secure-IAM</text>
    <text x="140" y="215" textAnchor="middle" className="text-xs fill-blue-500">(Next.js 15 / Auth.js)</text>

    {/* Keycloak: Identity Provider */}
    <rect x="50" y="20" width="180" height="80" rx="10" fill="#fef2f2" stroke="#ef4444" strokeWidth="2" />
    <text x="140" y="60" textAnchor="middle" className="font-bold text-sm fill-red-700">Keycloak (Docker)</text>
    <text x="140" y="80" textAnchor="middle" className="text-xs fill-red-500">IAM / OIDC Provider</text>

    {/* Project 2: API */}
    <rect x="350" y="150" width="180" height="100" rx="10" fill="#f0fdf4" stroke="#22c55e" strokeWidth="2" />
    <text x="440" y="195" textAnchor="middle" className="font-bold text-sm fill-green-700">Project 2: Nexus-Core</text>
    <text x="440" y="215" textAnchor="middle" className="text-xs fill-green-500">(Node.js / Express)</text>

    {/* Redis: Message Broker */}
    <ellipse cx="680" cy="200" rx="80" ry="50" fill="#fff7ed" stroke="#f97316" strokeWidth="2" />
    <text x="680" y="195" textAnchor="middle" className="font-bold text-sm fill-orange-700">Redis Queue</text>
    <text x="680" y="215" textAnchor="middle" className="text-xs fill-orange-500">(Docker / Broker)</text>

    {/* Connectors */}
    <path d="M140 150 L140 110" stroke="#475569" strokeWidth="2" fill="none" markerEnd="url(#arrow)" /> {/* Auth Flow */}
    <path d="M230 200 L340 200" stroke="#475569" strokeWidth="2" fill="none" markerEnd="url(#arrow)" /> {/* Audit Log POST */}
    <path d="M530 200 L590 200" stroke="#475569" strokeWidth="2" fill="none" markerEnd="url(#arrow)" /> {/* Redis Push */}
    
    {/* Annotations */}
    <text x="285" y="190" textAnchor="middle" className="text-[10px] fill-slate-500">Async Fetch</text>
    <text x="155" y="130" textAnchor="middle" className="text-[10px] fill-slate-500" transform="rotate(-90 155 130)">OIDC Handshake</text>
  </svg>
);